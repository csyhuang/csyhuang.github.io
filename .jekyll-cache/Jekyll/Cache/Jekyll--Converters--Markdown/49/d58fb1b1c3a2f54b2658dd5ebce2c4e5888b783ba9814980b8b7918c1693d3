I"ˆ	<p>(Ideally, I shall run tensorflow somewhere else rather than on my MacBook.)</p>

<p>When I install keras with Anaconda on my Mac OS X, with tensorflow as the backend, the following warning comes up when
 running the sample script:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
</code></pre></div></div>

<p>To use those instructions (<em>SSE4.1 SSE4.2 AVX AVX2 FMA</em>), tensorflow has to be compiled from source. The instructions are available <a href="https://www.tensorflow.org/install/install_sources">here</a>. 
Using the following command to build the source:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bazel build <span class="nt">-c</span> opt <span class="nt">--copt</span><span class="o">=</span><span class="nt">-march</span><span class="o">=</span>native <span class="nt">--copt</span><span class="o">=</span><span class="nt">-mfpmath</span><span class="o">=</span>both <span class="nt">--config</span><span class="o">=</span>cuda <span class="nt">-k</span> //tensorflow/tools/pip_package:build_pip_package
</code></pre></div></div>
<p>I got the following error:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Problem with java installation: couldn't find/access rt.jar in /Library/Java/JavaVirtualMachines/jdk-9.0.1.jdk/Contents/Home
</code></pre></div></div>
<p>It happens that <em>rt.jar</em> is not present in Java 9. To solve it, install a version of Java 8:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew cask <span class="nb">install </span>caskroom/versions/java8
</code></pre></div></div>
<p>and then specify the path of Java 8 (Change the version number â€˜1.8.0_162â€™ to that of the version you installed):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span><span class="si">$(</span>/usr/libexec/java_home <span class="nt">-v</span> 1.8.0_162<span class="si">)</span>
</code></pre></div></div>
<p>Afterwards, I try to build tensorflow from source again, and it successfully includes the instructions above.</p>
:ET